(this["webpackJsonpatelierpaper-client-react"]=this["webpackJsonpatelierpaper-client-react"]||[]).push([[0],{61:function(e,t,r){},62:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r(26),n=r.n(c),s=r(8),i=r(7),o=r(14),j=r.n(o),l=r(16),d=r(10),u=(r(52),r(71)),b=r(69),p=r(67),x=r(1);function m(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),r=t[0],c=t[1];return Object(a.useEffect)(Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("http://52.79.239.194","/api/sessions/currentsessionid"));case 3:return t=e.sent,e.t0=c,e.next=7,t.json();case 7:e.t1=e.sent.currentUserId,(0,e.t0)(e.t1),e.next=14;break;case 11:e.prev=11,e.t2=e.catch(0),console.log(e.t2);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))),Object(x.jsxs)(u.a,{bg:"dark",variant:"dark",sticky:"top",expand:"sm",collapseOnSelect:!0,children:[Object(x.jsx)(u.a.Brand,{as:s.b,to:"/",children:"Atelier Paper"}),Object(x.jsx)(u.a.Toggle,{}),Object(x.jsxs)(u.a.Collapse,{children:[Object(x.jsx)(b.a,{className:"me-auto",children:Object(x.jsx)(b.a.Link,{as:s.b,to:"/users",children:"Our Team"})}),Object(x.jsxs)(b.a,{children:[r&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b.a.Link,{as:s.b,to:"/users/".concat(r),children:"My Profile"}),Object(x.jsx)(b.a.Link,{as:s.b,to:"/create_project",children:"Create Project"}),Object(x.jsx)(p.a,{size:"sm",children:"Log Out"})]}),!r&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b.a.Link,{as:s.b,to:"/register",children:"Register"}),Object(x.jsx)(b.a.Link,{as:s.b,to:"/login",children:"Log In"})]})]})]})]})}var h=r(72),O=r(68),f=(r(60),r(45));function v(){var e=Object(i.e)(),t=Object(a.useState)(""),r=Object(d.a)(t,2),c=r[0],n=r[1],s=Object(a.useState)(""),o=Object(d.a)(s,2),u=o[0],b=o[1],m=Object(a.useState)(""),v=Object(d.a)(m,2),g=v[0],w=v[1],N=Object(a.useState)(""),y=Object(d.a)(N,2),L=y[0],P=y[1],C=Object(a.useState)(""),_=Object(d.a)(C,2),S=_[0],k=_[1],B=Object(a.useState)(),E=Object(d.a)(B,2),I=E[0],T=E[1],R=Object(a.useState)(""),q=Object(d.a)(R,2),G=q[0],F=q[1];function U(){return(U=Object(l.a)(j.a.mark((function t(r){var a,s,i,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),u===g){t.next=5;break}return alert("Passwords don't match."),w(""),t.abrupt("return");case 5:return(a=new FormData).append("email",c),a.append("password",u),a.append("last_name",L),a.append("first_name",S),a.append("phone_number",I),a.append("specialPermission",G),t.next=14,fetch("".concat("http://52.79.239.194","/api/users/"),{method:"POST",body:a});case 14:return s=t.sent,t.next=17,s.json();case 17:if(i=t.sent,void 0!==(o=i.error_message)){t.next=22;break}return e.push("/login"),t.abrupt("return");case 22:if("You don't have the permission to create an account."!==o){t.next=26;break}return alert("You don't have the permission to create an account."),F(""),t.abrupt("return");case 26:"There exists a user with the same email and/or password."===o&&(alert("There exists a user with the same email and/or password."),n(""),b(""),w(""));case 27:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(x.jsx)(h.a,{children:Object(x.jsxs)(h.a.Body,{children:[Object(x.jsx)(h.a.Title,{className:"text-center",children:"Create New Account"}),Object(x.jsxs)("form",{onSubmit:function(e){return U.apply(this,arguments)},children:[Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(x.jsx)(O.a.Label,{children:"Email address"}),Object(x.jsx)(O.a.Control,{type:"email",placeholder:"Enter email",value:c,onChange:function(e){return n(e.target.value)},required:!0})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(x.jsx)(O.a.Label,{children:"Password"}),Object(x.jsx)(O.a.Control,{type:"password",placeholder:"Enter password",value:u,onChange:function(e){return b(e.target.value)},required:!0})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formBasicConfirmPassword",children:[Object(x.jsx)(O.a.Label,{children:"Confirm Password"}),Object(x.jsx)(O.a.Control,{type:"password",placeholder:"Reenter password",value:g,onChange:function(e){return w(e.target.value)},required:!0})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formBasicLastName",children:[Object(x.jsx)(O.a.Label,{children:"Last Name"}),Object(x.jsx)(O.a.Control,{type:"text",placeholder:"Enter last name",value:L,onChange:function(e){return P(e.target.value)},required:!0})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formBasicFirstName",children:[Object(x.jsx)(O.a.Label,{children:"First Name"}),Object(x.jsx)(O.a.Control,{type:"text",placeholder:"Enter first name",value:S,onChange:function(e){return k(e.target.value)},required:!0})]}),Object(x.jsx)(O.a.Group,{className:"mb-3",controlId:"formBasicPhoneNumber",children:Object(x.jsx)(f.a,{placeholder:"Enter phone number",value:I,onChange:T,required:!0})}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formBasicSpecialPermission",children:[Object(x.jsx)(O.a.Label,{children:"Special Permission Code"}),Object(x.jsx)(O.a.Control,{type:"text",placeholder:"Enter special permission code",value:G,onChange:function(e){return F(e.target.value)},required:!0})]}),Object(x.jsx)(p.a,{variant:"primary",type:"submit",children:"Register"})]})]})})}function g(){var e=Object(i.e)(),t=Object(a.useState)(""),r=Object(d.a)(t,2),c=r[0],n=r[1],s=Object(a.useState)(""),o=Object(d.a)(s,2),u=o[0],b=o[1];function m(){return(m=Object(l.a)(j.a.mark((function t(r){var a,s,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),(a=new FormData).append("email",c),a.append("password",u),t.next=6,fetch("".concat("http://52.79.239.194","/api/sessions/"),{method:"POST",body:a});case 6:return s=t.sent,t.next=9,s.json();case 9:if(void 0!==(i=t.sent).error_message){t.next=13;break}return e.push("/"),t.abrupt("return");case 13:"Wrong email and/or password."===i.error_message&&(alert("Wrong email and/or password."),n(""),b(""));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(x.jsx)(h.a,{children:Object(x.jsxs)(h.a.Body,{children:[Object(x.jsx)(h.a.Title,{className:"text-center",children:"Are you an Employee?"}),Object(x.jsxs)("form",{onSubmit:function(e){return m.apply(this,arguments)},children:[Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(x.jsx)(O.a.Label,{children:"Email address"}),Object(x.jsx)(O.a.Control,{type:"email",placeholder:"Enter email",value:c,onChange:function(e){return n(e.target.value)},required:!0})]}),Object(x.jsxs)(O.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(x.jsx)(O.a.Label,{children:"Password"}),Object(x.jsx)(O.a.Control,{type:"password",placeholder:"Enter password",value:u,onChange:function(e){return b(e.target.value)},required:!0})]}),Object(x.jsx)(p.a,{variant:"primary",type:"submit",children:"Log In"})]})]})})}function w(e){var t=Object(a.useState)(null),r=Object(d.a)(t,2),c=r[0],n=r[1],s=Object(a.useState)(!0),i=Object(d.a)(s,2),o=i[0],u=i[1],b=Object(a.useState)(null),p=Object(d.a)(b,2),x=p[0],m=p[1];return Object(a.useEffect)(Object(l.a)(j.a.mark((function t(){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:return r=t.sent,t.t0=n,t.next=7,r.json();case 7:t.t1=t.sent,(0,t.t0)(t.t1),u(!1),t.next=15;break;case 12:t.prev=12,t.t2=t.catch(0),m(t.t2.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])}))),[e]),{error:x,isPending:o,data:c}}function N(e){var t=e.user,r=t.user_id,a=t.last_name,c=t.first_name;return Object(x.jsx)(s.b,{className:"ReducedUserComponent",to:"/users/".concat(r),children:Object(x.jsx)(h.a,{children:Object(x.jsx)(h.a.Body,{children:Object(x.jsxs)(h.a.Title,{className:"text-center",children:[a," ",c]})})})})}function y(e){var t=e.users;return Object(x.jsx)("div",{className:"ReducedUserComponentList",children:t.map((function(e){return Object(x.jsx)(N,{user:e},e.user_id)}))})}function L(){var e=w("".concat("http://52.79.239.194","/api/users/")),t=e.error,r=e.isPending,a=e.data;return Object(x.jsxs)("div",{className:"HomeView",children:[t&&Object(x.jsx)("div",{children:t}),r&&Object(x.jsx)("div",{children:"Loading..."}),a&&Object(x.jsx)(y,{users:a})]})}function P(e){var t=e.user,r=t.email,a=t.last_name,c=t.first_name,n=t.phone_number;return Object(x.jsx)(h.a,{className:"FullUserComponent",children:Object(x.jsxs)(h.a.Body,{children:[Object(x.jsxs)(h.a.Title,{className:"text-center",children:[a," ",c]}),Object(x.jsx)(h.a.Subtitle,{className:"mb-2 text-muted text-center",children:r}),Object(x.jsx)(h.a.Subtitle,{className:"mb-2 text-muted text-center",children:n})]})})}function C(){var e=Object(i.f)().user_id,t=w("".concat("http://52.79.239.194","/api/users/").concat(e)),r=t.error,a=t.isPending,c=t.data;return Object(x.jsxs)("div",{className:"ProjectView",children:[r&&Object(x.jsx)("div",{children:r}),a&&Object(x.jsx)("div",{children:"Loading..."}),c&&Object(x.jsx)(P,{user:c})]})}function _(){return Object(x.jsx)("h1",{children:"Create Project"})}var S=r(70);function k(e){var t=e.imageURLs;return Object(x.jsx)(S.a,{fade:!0,children:t.map((function(e){return Object(x.jsx)(S.a.Item,{children:Object(x.jsx)("img",{className:"d-block w-100",src:e,alt:""})},e)}))})}function B(e){var t=e.project,r=t.project_id,a=t.user_id,c=t.title,n=w("".concat("http://52.79.239.194","/api/images/").concat(r,"/")),i=n.error,o=n.isPending,j=n.data,l=w("".concat("http://52.79.239.194","/api/users/").concat(a)),d=l.error,u=l.isPending,b=l.data;return Object(x.jsx)(h.a,{className:"ReducedProjectComponent",children:Object(x.jsxs)(h.a.Body,{children:[Object(x.jsx)(h.a.Title,{className:"text-center",children:Object(x.jsx)(s.b,{to:"/projects/".concat(r),children:c})}),Object(x.jsxs)(h.a.Subtitle,{className:"mb-2 text-muted text-center",children:[d&&{error2:d},u&&"Loading...","By ",b&&Object(x.jsxs)(s.b,{to:"/users/".concat(a),children:[b.last_name," ",b.first_name]})]}),i&&Object(x.jsx)("div",{children:i}),o&&Object(x.jsx)("div",{children:"Loading..."}),j&&Object(x.jsx)(k,{imageURLs:j})]})})}function E(e){var t=e.projects;return Object(x.jsx)("div",{className:"ReducedProjectComponentList",children:t.map((function(e){return Object(x.jsx)(B,{project:e},e.project_id)}))})}function I(){var e=w("".concat("http://52.79.239.194","/api/projects/")),t=e.error,r=e.isPending,a=e.data;return Object(x.jsxs)("div",{className:"HomeView",children:[t&&Object(x.jsx)("div",{children:t}),r&&Object(x.jsx)("div",{children:"Loading..."}),a&&Object(x.jsx)(E,{projects:a})]})}function T(e){var t=e.project,r=t.project_id,a=t.user_id,c=t.title,n=t.body,i=w("".concat("http://52.79.239.194","/api/images/").concat(r,"/")),o=i.error,j=i.isPending,l=i.data,d=w("".concat("http://52.79.239.194","/api/users/").concat(a)),u=d.error,b=d.isPending,p=d.data;return Object(x.jsx)(h.a,{className:"ReducedProjectComponent",children:Object(x.jsxs)(h.a.Body,{children:[Object(x.jsx)(h.a.Title,{className:"text-center",children:c}),Object(x.jsxs)(h.a.Subtitle,{className:"mb-2 text-muted text-center",children:[u&&{error2:u},b&&"Loading...","By ",p&&Object(x.jsxs)(s.b,{to:"/users/".concat(a),children:[p.last_name," ",p.first_name]})]}),o&&Object(x.jsx)("div",{children:o}),j&&Object(x.jsx)("div",{children:"Loading..."}),l&&Object(x.jsx)(k,{imageURLs:l}),Object(x.jsx)(h.a.Text,{children:n})]})})}function R(){var e=Object(i.f)().project_id,t=w("".concat("http://52.79.239.194","/api/projects/").concat(e)),r=t.error,a=t.isPending,c=t.data;return Object(x.jsxs)("div",{className:"ProjectView",children:[r&&Object(x.jsx)("div",{children:r}),a&&Object(x.jsx)("div",{children:"Loading..."}),c&&Object(x.jsx)(T,{project:c})]})}function q(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(s.a,{children:[Object(x.jsx)(m,{}),Object(x.jsxs)("div",{className:"view",children:[Object(x.jsx)(i.a,{exact:!0,path:"/",component:I}),Object(x.jsx)(i.a,{exact:!0,path:"/projects/",component:I}),Object(x.jsx)(i.a,{exact:!0,path:"/projects/:project_id",component:R}),Object(x.jsx)(i.a,{exact:!0,path:"/create_project/",component:_}),Object(x.jsx)(i.a,{exact:!0,path:"/users/",component:L}),Object(x.jsx)(i.a,{exact:!0,path:"/users/:user_id",component:C}),Object(x.jsx)(i.a,{exact:!0,path:"/register/",component:v}),Object(x.jsx)(i.a,{exact:!0,path:"/login/",component:g})]})]})})}r(61);n.a.render(Object(x.jsx)(q,{}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.4208e0f7.chunk.js.map